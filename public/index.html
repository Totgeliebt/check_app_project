
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>
  <body>
    <div id="root"></div>
    <script async src="https://telegram.org/js/telegram-widget.js?18" data-telegram-login="zhuravskaya_bot" data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
    <script type="text/javascript">
      function onTelegramAuth(user) {
        // fetch('https://app-state.herokuapp.com/login', {
        //   method: "post",
        //   headers: {
        //     'Accept': 'application/json',
        //     'Content-Type': 'application/json;charset=UTF-8'
        //   },
        //   //make sure to serialize your JSON body
        //   body: JSON.stringify(
        //     user
        //     // "auth_date": 1644882806,
        //     // "first_name": user.first_name,
        //     // "hash": "5c7e62d8267c511748eff7e76441d2c36cdab4412bd017d48a6b61290e6749d7",
        //     // "id": user.id,
        //     // "photo_url": "https://t.me/i/userpic/320/CYVqOaXHnNsH8HnVezxPUJCk3vxubfCpKbiOZIdSF_0.jpg",
        //     // "username": user.username
        //   ),
        //   mode: 'no-cors'
        // })
        //         .then( (response) => {
        //           console.log(user)
        //           console.log(response.body)
        //           console.log(response)
        //         });
        alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
      }
    </script>
  </body>
</html>
